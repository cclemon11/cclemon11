

<div class="container">
    <div class="columns">
        <div class="column">
            <div class="column">
                <div class=content is-medium>
                    <ul>
                        <img style="object-fit:cover" src="<%= programme.imageurl %>" />
                        <li>
                        <%= programme.programmename %></b> 
                         </li>
                        <li><b>Faculty Name:  </b>
                        <%= programme.facultyname %>
                          </li>

                         <li><b>Enrollment: <%= programme.enrollment %> </b>
                         </li>
                    </ul>
                </div>
            </div>


<!-- <form action="/programme/delete/<%= programme.id %>" method="POST"> -->
    <% if(req.session.role == "admin"){ %>
        <button type="button" class="button is-danger" onclick="deleteProgramme('<%= programme.id %>')">Delete</button>
            <!-- </form> -->
     <% } %>
            <script>
                async function deleteProgramme(id) {
                    var r = confirm("Confirm Delete?");
    
                    if (r) {
                        var response = await fetch("/programme/" + id, {
                            method: "DELETE",
                        });
    
                        if (response.ok) {
                            // var html = await response.text();
                            //alert(html);
                            alert("Programme deleted.");
                            location.assign("/");
    
                        } else {
                            alert(response.status + ": " + response.statusText);
                        }
    
                    } else {
                        alert("cancelled");
                    }
                };
            </script>
    

